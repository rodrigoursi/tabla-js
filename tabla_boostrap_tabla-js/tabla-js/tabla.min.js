function crearTabla(e,t,a,c){const r=document.createElement("table");r.id=e,r.className="table",r.setAttribute("data-tipoSelec",a);const n=armarArrCabecera(t);r.innerHTML='<thead><tr class="cabecera" style="text-align:center"></tr></thead><tbody></tbody>';const o=r.querySelector(".cabecera");n.forEach((e=>{const t=document.createElement("th");t.setAttribute("scope","col"),t.setAttribute("name",e),t.textContent=e,o.append(t)}));const l=r.querySelector("tbody");return t.forEach((e=>{const t=document.createElement("tr");for(columna in e)t.innerHTML+=`<td style="text-align:center" data-cellSelec="false" name=${columna}>${e[columna]}</td>`;t.addEventListener("click",(e=>{console.log("pasa aca tambien"),"multi"==a&&seleccionarFilasMulti(e),"simple"==a&&seleccionarFila(e,r)})),l.append(t)})),c?crearBuscador(r,t):r}function armarArrCabecera(e){return Object.keys(e[0])}function ocultarCabecera(e,t){const a=e.querySelectorAll(`[name="${t}"]`);if(e.hasAttribute("data-colocu")){let a=e.dataset.colocu+","+t;e.dataset.colocu=a}else e.dataset.colocu=t;a.forEach((e=>{e.style.display="none"}));const c=e.querySelector(`form select option[value = '${t}']`);console.log(e.querySelector("form select option")),console.log(c),c&&c.remove()}function cambiarCabecera(e,t,a){e.querySelector(`.cabecera [name="${t}"]`).textContent=a}function seleccionarFila(e,t){const a=t.querySelector("tbody .table-primary");console.log(a),a&&(a.classList.remove("table-primary"),a.removeAttribute("data-selec")),e.currentTarget.classList.toggle("table-primary"),e.currentTarget.dataset.selec="true"}function seleccionarFilasMulti(e){e.currentTarget.classList.toggle("table-primary"),e.currentTarget.dataset.selec="true"}function capturarFilas(e){let t=document.getElementById(e).querySelectorAll('tbody [data-selec="true"]');t=[...t];const a=t.map((e=>{let t={};return[...e.children].forEach((e=>{t[e.getAttribute("name")]=e.textContent})),t}));return console.log(a),a}function crearBuscador(e,t){const a=document.createElement("div"),c=document.createElement("form"),r=document.createElement("input");r.className="form-control mx-2",c.className="form-buscador my-2";const n=crearSelect(t[0]);return c.append(n),c.append(r),a.append(c),a.append(e),r.addEventListener("input",(c=>{const r=buscar(a.querySelector("select").value,c.target.value,t),n=e.querySelector("tbody"),o=e.dataset.tiposelec;if(n.innerHTML="",r.forEach((t=>{const a=document.createElement("tr");for(columna in t)a.innerHTML+=`<td style="text-align:center" data-cellSelec="false" name=${columna}>${t[columna]}</td>`;a.addEventListener("click",(t=>{"multi"==o&&seleccionarFilasMulti(t),"simple"==o&&seleccionarFila(t,e)})),n.append(a)})),!a.hasAttribute("data-colocu"))return;let l=a.dataset.colocu;l=l.split(","),console.log(l),l.forEach((e=>{ocultarCabecera(a,e)}))})),a}function crearSelect(e){const t=document.createElement("select");t.className="form-selec mx-2";for(let a in e)t.innerHTML+=`<option value="${a}">${a}</option>`;return t}function buscar(e,t,a){return a.filter((a=>a[e].includes(t)))}